<div class=" container my-8" >
  <section hlmCard class="p-6" >

    @if (userLoading){
      <div class="flex justify-center">
        <hlm-skeleton class="w-80 h-9 mb-8" />
      </div>
    } @else {
      <h2 class="text-center font-semibold text-2xl mb-8" >Utilisateur  {{user?.matricule}}</h2>
    }

        <div hlmCardContent  >

          <div class="flex justify-center w-full gap-28 mb-3">
            <label hlmLabel >Nom
              @if (userLoading){
                <hlm-skeleton class="w-60 h-10 mt-1" />
              } @else {
                <input hlmInput type="text" [readOnly]="true" [value]="user?.nom" class="w-60" />
              }
            </label>
            <label hlmLabel >Pr√©nom
              @if (userLoading){
                <hlm-skeleton class="w-60 h-10 mt-1" />
              } @else {
                <input hlmInput type="text" [readOnly]="true"  [value]="user?.prenom" class="w-60" />
              }
            </label>
          </div>


          <div class="flex justify-center w-full gap-28 mb-3">

            <label hlmLabel >Port
              @if (userLoading){
                <hlm-skeleton class="w-60 h-10 mt-1" />
              } @else {
                <input hlmInput type="text" [readOnly]="true"  [value]="user?.port?.nom || 'pas de port'" class="w-60" />
              }
            </label>

              <brn-collapsible class="flex flex-col w-60 mt-4 space-y-2">
                <div class="flex items-center justify-between px-4 space-x-4">
                  <h4 class="text-sm font-semibold">Profiles</h4>
                  <button brnCollapsibleTrigger hlmBtn variant="secondary" size="sm" class="p-0 w-9">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke-width="1.5"
                      stroke="currentColor"
                      class="w-4 h-4">
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M8.25 15L12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"
                      />
                    </svg>
                    <span class="sr-only">Toggle</span>
                  </button>
                </div>
                <brn-collapsible-content class="space-y-2">
                  @if (userLoading){
                    <hlm-skeleton *ngFor="let i of [0,1,2]" class="w-60 h-10 mt-1" />
                  } @else {

                    @for (authorisation of user?.authorities; track authorisation){
                      <div class="px-4 py-2  font-semibold text-sm border rounded-md border-border">{{authorisation.authority}}</div>
                    }
                  }
                </brn-collapsible-content>
              </brn-collapsible>


          </div>

          <div class="flex justify-center w-full gap-28 mb-3">

            @if (!mdp){
              @if (mdpLoading){
                <button hlmBtn class="w-60 mt-4" >
                  <hlm-spinner size="xs" />
                  En cours...
                </button>
              } @else {
                <button hlmBtn class="w-60 mt-4" >Modifier mot de passe</button>
              }
            } @else {
              <label hlmLabel >Mot de passe
                <input hlmInput type="text" [readOnly]="true" [value]="mdp"  class="w-60" />
              </label>
            }
          </div>

          <div class="flex justify-center gap-4">
          </div>

        </div>



  </section>
</div>
